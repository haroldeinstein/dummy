<%= content_for :stylesheets do %>
  <%= stylesheet_link_tag :directors %>
<% end %>

<table cellpadding="0" cellspacing="0" border="0" width="100%" height="90%">
  <tbody>
    <tr>
      <td valign="middle">
        <div id="director" class="clearfix">
          <% unless params[:vid].present? %>
            <div id="videos-list">
              <table cellpadding="0" cellspacing="0" border="0" width="100%" height="100%">
                <tbody>
                  <tr>
                    <td valign="middle">
                      <% news.each do |n| %>
                        <h3 class="project">
                          <a data-vimeoid="<%= n.vimeo_id %>" data-id="<%= n.id %>" href="#">
                            <%= n.title %>
                          </a>
                        </h3>
                        <h3 class="project small">
                          <a data-vimeoid="<%= n.vimeo_id %>" data-id="<%= n.id %>" href="?vid=<%= n.id %>">
                            <%= n.title %>
                          </a>
                        </h3>
                      <% end %>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          <% end %>

          <div id="videos-container" class="<%= "show" if params[:vid].present? %>">
            <table cellpadding="0" cellspacing="0" border="0" width="100%" height="100%">
              <tbody>
                <tr>
                  <td valign="middle">
                    <div id="video-player">
                      <iframe id="vimeo-player" src="//player.vimeo.com/video/<%= @video_id %>" width="100%" height="100%" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </td>
    </tr>
  </tbody>
</table>

<script>
  $(document).ready(function() {
    var $window = $(window);
    var $btn = $('.back');

    $window.bind('resize', function() {
      var windowHeight = $window.height();
      var windowWidth = $window.width();

      if (windowHeight < 610) {
        $btn.css({
          'top': 610 - 102 ,
          'bottom': 'auto'
        });
      } else {
        $btn.css({
          'top': 'auto',
          'bottom': '5.0em'
        });
      }

      if (windowWidth < 1190) {
        if (windowWidth < 1000) {
          $btn.css({
            'left': 928,
            'right': 'auto'
          });
        } else {
          $btn.css({
            'left': 'auto',
            'right': '20px'
          });
        }
      } else {
        $btn.css({
          'left': 'auto',
          'right': '5.0em'
        });
      }
    });
  });
</script>
<%= content_for :javascripts do %>
  <%= javascript_include_tag :news %>
<% end %>
